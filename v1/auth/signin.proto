syntax = "proto3";

package nimbus.auth.signin.v1;

import "v1/auth/entities.proto";
import "v1/entities/user.proto";

enum SignInErrorCodeProto {
  UNDEFINED = 0;
  WRONG_BODY_FORMAT = 1;
  VALIDATION_ERROR = 2;
  WRONG_CREDENTIALS = 3;
}

message SignInRequestProto {
  string user_name = 1;
  string password = 2;
}

message SignInSuccessResponseProto {
  nimbus.entities.user.v1.UserProto user = 1;
  nimbus.auth.entities.v1.AccessTokenProto access_token = 2;
}

message SignInResponseProto {
  oneof result {
    SignInSuccessResponseProto success = 1;
    SignInErrorCodeProto error = 2;
  }
}